<!DOCTYPE html>
<!--[if IE 6]> <html id="ie6" lang="es"> <![endif]-->
<!--[if IE 7]> <html id="ie7" lang="es"> <![endif]-->
<!--[if IE 8]> <html id="ie8" lang="es"> <![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)]><!--> <html lang="es"> <!--<![endif]-->

<head>
	<meta charset="UTF-8" />
<script>

var head = document.head || document.getElementsByTagName('head')[0];
function setViewport() {
  var ww = screen.width;
  var scale = Math.round(ww*100 / 750.0) / 100.0;
  if (scale > 1) scale = 1.0;
  var meta = document.createElement('meta');
  meta.name = "viewport";
  meta.content = "width=740, initial-scale=" + scale;
  head.appendChild(meta);
}
setViewport();

function loadCSS( href, before, media ){
	"use strict";
	var ss = window.document.createElement( "link" );
	var ref = before || window.document.getElementsByTagName( "script" )[ 0 ];
	var sheets = window.document.styleSheets;
	ss.rel = "stylesheet";
	ss.href = href;
	ss.media = "only x";
	ref.parentNode.insertBefore( ss, ref );
	ss.onloadcssdefined = function( cb ){
		var defined;
		for( var i = 0; i < sheets.length; i++ ){
			if( sheets[ i ].href && sheets[ i ].href.indexOf( href ) > -1 ){
				defined = true;
			}
		}
		if( defined ){
			cb();
		} else {
			setTimeout(function() {
				ss.onloadcssdefined( cb );
			});
		}
	};
	ss.onloadcssdefined(function() {
		ss.media = media || "all";
	});
	return ss;
}
loadCSS('/blog-merged-20160115.min.css');
loadCSS('/wp-content/plugins/jetpack/css/jetpack.css');

  // Variable para hacer seguimiento de adsense en analytics
  window.google_analytics_uacct = "UA-9329306-6";
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9329306-6']);
  _gaq.push(['_setCustomVar', 1, 'Categoria', 'HTML Javascript', 3 ]);
    _gaq.push(['_trackEvent', 'Categoria', 'HTML Javascript' ,  ,  , true]);
  _gaq.push(['_trackPageview']);


  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async=true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

function initialize() {
/*
  if (typeof jQuery === "undefined") {
      setTimeout(initialize,100);
      return;
    }
    jQuery.getJSON("/count.php?r="+Math.floor(Math.random()*10000), function(data) {
  });
*/
}
</script>
<style>
body {
    color: #000;
    font-family: Arial,Helvetica,sans-serif;
    font-size: 12px;
    font-size-adjust: none;
    font-style: normal;
    font-variant: normal;
    font-weight: normal;
    line-height: 1.5;
}
#header {
    min-height: 55px;
    padding: 8px 0;
}
.blogtitle {
    float: left;
    font-size: 333%;
    line-height: 47px;
    margin: 0;
    padding: 0;
    position: relative;
    text-align: left;
    color: #333;
}
#nav-top ul li a, #nav ul li a {
    background-color: #f8f8ff;
    color: #444;
}
#nav ul li a {
    display: inline-block;
    padding: 8px 8px 5px;
    text-decoration: none;
}
#nav a, #nav a:visited {
    font-size: 100%;
    font-weight: bold;
    height: 22px;
    line-height: 22px;
}
h1.posttitle a, h1.posttitle a:visited, h2.posttitle a, h2.posttitle a:visited {
    color: #000;
    text-decoration: none;
}
h1, h2 {
    font-weight: normal;
}
#wrapper {
    max-width: 1040px;
    min-width: 1040px;
    width: 1040px;
    border: 1px solid silver;
    border-radius: 7px;
    background-color: #f0f0f0;
    margin: 20px auto;
    padding: 10px;
    position: relative;
}
#container {
    padding-left: 0;
    padding-right: 315px;
}
.fix {
    display: block;
}
.fix::after {
    clear: both;
    content: ".";
    display: block;
    height: 0;
    visibility: hidden;
}
#main-col {
    width: 725px;
    float: left;
    margin-left: 0;
    margin-right: 0;
    position: relative;
}

#sidebar-shell-1 {
    left: auto;
    margin-left: 15px;
    margin-right: -315px;
    right: auto;
}
#sidebar, #sidebar-b, #sidebar-shell-1 {
    width: 300px;
}
.sidebar-shell-right {
    float: left;
    margin-left: 15px;
}
.sidebar-shell {
    display: block;
    position: relative;
}
.post, article.page {
    background: none repeat scroll 0 0 #fff;
    border: 1px solid silver;
    border-radius: 5px;
    clear: both;
    margin-bottom: 10px;
    overflow: hidden;
    padding: 25px 15px 1em;
}
#nav {
    margin: 0 auto;
    width: 100%;
}
#nav {
    border-bottom: 1px solid silver;
}
#nav ul.sf-menu, #nav-top ul.sf-menu {
    display: inline-block;
}
#nav ul {
    text-transform: capitalize;
    float: left;
    list-style: outside none none;
    margin: 0 0 -1px;
    padding: 0;
    vertical-align: bottom;
}

.tinynav {
    display: none;
}
#nav ul li, #nav ul li a, #nav ul ul ul li:first-child, #nav ul ul ul li:first-child > a, #nav ul ul ul ul li:first-child > a:hover, #nav-top ul ul ul li:first-child, #nav-top ul ul ul li:first-child > a, #nav-top ul ul ul li:first-child > a:hover, #item-nav div.item-list-tabs ul li {
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
}
#nav ul li, #nav.continuous ul ul li, #nav-top.continuous ul ul li {
    border: 1px solid silver;
}
#nav ul li {
    float: left;
    margin: 0 4px 0 0;
    padding: 0;
}
#nav li {
    position: relative;
    z-index: 1;
}
#nav-top a.current, #nav-top a.current:visited, #nav-top a.current:hover, #nav-top a.current:active, #nav-top li a:hover, #nav a.current, #nav a.current:visited, #nav a.current:hover, #nav a.current:active, #nav li a:hover {
    background: url("/wp-content/themes/suffusion/images/bg-red.png") repeat-x scroll left top #ef0506;
    color: #eee;
}
#nav .current_page_item a, #nav .current_page_item a:hover, #nav li a:active {
    text-decoration: none;
}
.description {
    float: right;
    font-size: 116%;
    margin-left: 20px;
    margin-right: 20px;
    margin-top: 21px;
    text-align: right;
    text-transform: uppercase;
}

#right-header-widgets, #top-bar-right-widgets {
    display: inline-block;
    float: right;
    margin-left: 10px;
}
a, a:visited {
    color: #8a1717;
}
a {
    text-decoration: none;
}
.suf-widget {
    background: none repeat scroll 0 0 #fff;
    border: 1px solid silver;
}
.dbx-box {
    clear: both;
    margin: 0 0 15px;
    padding: 0;
}
.dbx-group, .dbx-box, .dbx-handle {
    display: block;
    position: relative;
}
.entry img {
    max-width: 100%;
}
.alignleft {
    float: left;
    margin: 0 10px 5px 0;
}
img {
    border: 0 none;
}
</style>
	<title>  Cómo dibujar con el ratón en un canvas HTML5 &raquo; Blog OpenAlfa</title>
	<!--[if lt IE 9]>
	<script src="https://blog.openalfa.com/wp-content/themes/suffusion/scripts/html5.js" type="text/javascript"></script>
	<![endif]-->

	<link href="//pagead2.googlesyndication.com" rel="dns-prefetch"/>
	<link href="//www.google-analytics.com" rel="dns-prefetch"/>
	<link href="//googleads.g.doubleclick.net" rel="dns-prefetch"/>
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Blog OpenAlfa &raquo; Feed" href="https://blog.openalfa.com/feed" />
<link rel="alternate" type="application/rss+xml" title="Blog OpenAlfa &raquo; RSS de los comentarios" href="https://blog.openalfa.com/comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Blog OpenAlfa &raquo; Cómo dibujar con el ratón en un canvas HTML5 RSS de los comentarios" href="https://blog.openalfa.com/como-dibujar-con-el-raton-en-un-canvas-html5/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"\/\/blog.openalfa.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.0.3"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='//blog.openalfa.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-eclipse-css'  href='//blog.openalfa.com/wp-content/plugins/crayon-syntax-highlighter/themes/eclipse/eclipse.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='//blog.openalfa.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='//blog.openalfa.com/wp-includes/css/dist/block-library/style.min.css?ver=5.0.3' type='text/css' media='all' />
<link rel='stylesheet' id='ewd-feup-style-css'  href='//blog.openalfa.com/wp-content/plugins/front-end-only-users/css/feu-styles.css?ver=5.0.3' type='text/css' media='all' />
<link rel='stylesheet' id='feup-yahoo-pure-css-css'  href='//blog.openalfa.com/wp-content/plugins/front-end-only-users/css/feup-pure.css?ver=5.0.3' type='text/css' media='all' />
<script type='text/javascript' src='//blog.openalfa.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='//blog.openalfa.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var ewd_feup_ajax_translations = {"mismatch_label":"Mismatch","too_short_label":"Too Short","weak_label":"Weak","good_label":"Good","strong_label":"Strong"};
/* ]]> */
</script>
<script type='text/javascript' src='//blog.openalfa.com/wp-content/plugins/front-end-only-users//js/ewd-feup-check-password-strength.js?ver=5.0.3'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var Suffusion_JS = [""];
/* ]]> */
</script>
<script type='text/javascript' src='//blog.openalfa.com/wp-content/themes/suffusion/scripts/suffusion.js?ver=4.4.7'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://blog.openalfa.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://blog.openalfa.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Cómo añadir mapas de Google a una página web' href='https://blog.openalfa.com/como-anadir-mapas-de-google-a-una-pagina-web' />
<link rel='next' title='Cómo instalar Tesseract OCR en Debian' href='https://blog.openalfa.com/como-instalar-tesseract-ocr-en-debian' />
<link rel="canonical" href="https://blog.openalfa.com/como-dibujar-con-el-raton-en-un-canvas-html5" />
<link rel='shortlink' href='https://blog.openalfa.com/?p=671' />
<link rel="alternate" type="application/json+oembed" href="https://blog.openalfa.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fblog.openalfa.com%2Fcomo-dibujar-con-el-raton-en-un-canvas-html5" />
<link rel="alternate" type="text/xml+oembed" href="https://blog.openalfa.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fblog.openalfa.com%2Fcomo-dibujar-con-el-raton-en-un-canvas-html5&#038;format=xml" />
<script>var FEUP_Min_Pass = 3;
</script><!-- Start Additional Feeds -->
<!-- End Additional Feeds -->
<style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("https://blog.openalfa.com/wp-content/uploads/sites/2/2014/01/background2.jpg"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: fixed; }
</style>
<!-- location header -->
</head>

<body itemscope itemtype="http://schema.org/Article" class="post-template-default single single-post postid-671 single-format-standard custom-background light-theme-red suffusion-custom preset-custom-componentspx device-desktop" onload="initialize()">
    				<div id="wrapper" class="fix">
					<div id="header-container" class="custom-header fix">
					<header id="header" class="fix">
			<h2 class="blogtitle left"><a href="/">Blog OpenAlfa</a></h2>
		<div class="description right">Diario del proyecto OpenAlfa</div>
    </header><!-- /header -->
 	<nav id="nav" class="tab fix">
		<div class='col-control left'>
	<!-- right-header-widgets -->
	<div id="right-header-widgets" class="warea">
	<!-- widget start --><div id="text-2" class="widget_text">			<div class="textwidget">[user-name]</div>
		</div><!-- widget end -->	</div>
	<!-- /right-header-widgets -->
<ul class='sf-menu'>
<li id="menu-item-3783" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-3783 dd-tab"><a href="http://blog.openalfa.com">Inicio</a></li>
<li id="menu-item-3554" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3554 dd-tab"><a href="https://blog.openalfa.com/informacion">Información</a></li>

</ul>
		</div><!-- /col-control -->
	</nav><!-- /nav -->
			</div><!-- //#header-container -->
			<div id="container" class="fix">
				    <div id="main-col">
		  	<div id="content">
<div id="adsense1">
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Bloque1 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-5299341991936851"
     data-ad-slot="6543767191"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

	<article class="post-671 post type-post status-publish format-standard hentry category-html category-javascript category-9-id category-12-id full-content meta-position-corners fix" id="post-671">
<header class='post-header title-container fix'>
	<div class="title">
		<h1 class="posttitle"><a href='https://blog.openalfa.com/como-dibujar-con-el-raton-en-un-canvas-html5' class='entry-title' rel='bookmark' title='Cómo dibujar con el ratón en un canvas HTML5' >Cómo dibujar con el ratón en un canvas HTML5</a></h1>
		<div class="postdata fix">
					<span class="category"><span class="icon">&nbsp;</span><a href="https://blog.openalfa.com/category/html" rel="category tag">HTML</a>, <a href="https://blog.openalfa.com/category/javascript" rel="category tag">Javascript</a></span>
							<span class="comments"><span class="icon">&nbsp;</span><a href="#respond">Añadir comentarios</a></span>
					</div><!-- /.postdata -->
		</div><!-- /.title -->
		<div class="date"><span class="month">Jul</span> <span
			class="day">05</span><span class="year">2012</span></div>
	</header><!-- /.title-container -->
	<span class='post-format-icon'>&nbsp;</span><span class='updated' title='2012-07-05T08:55:34+00:00'></span>		<div class="entry-container fix">
			<div class="entry fix">
<img class="alignleft" itemprop="image" alt="Artículo HTML" src="/iconos/logos/HTML5.png" width="128" height="128" /><p>( <a title="Drawing with the mouse in a HTML5 canvas" href="http://blog-en.openalfa.com/how-to-draw-with-the-mouse-in-a-html5-canvas/" target="_blank" rel="noopener">Read this post in english</a> )</p>
<p>En este artículo vamos a ver cómo se puede definir en nuestra página web un área en la que el usuario puede dibujar formas con el ratón. Después, la imagen dibujada puede ser enviada al servidor para que la procese de la forma que se desee. Esta funcionalidad la utilizaremos en nuestro<a title="Diccionario chino-español" href="http://zhongwen.openalfa.com"> diccionario mandarín-español</a> para permitir al usuario escribir con el ratón el símbolo hanzi que desea localizar. Para este propósito necesitaremos también utilizar un software de reconocimiento de caracteres (OCR) con soporte para chino simplificado, que comentaremos en un próximo artículo. <span id="more-671"></span></p>
<h4>1. Código HTML</h4>
<p>En primer lugar, preparamos el código HTML de la página, que debe contener un elemento &lt;div&gt; vacío (en el cual se cargará el canvas mediante javascript), y también debe cargar la librería jquery que vamos a utilizar para la manipulación de los elementos del DOM:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c96c7286c8ef423514836" class="crayon-syntax crayon-theme-eclipse crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 24px; margin-bottom: 24px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">

&lt;html&gt;
&lt;head&gt;
&lt;script type="text/javascript" src="/js/jquery-1.7.2.min.js"&gt;&lt;/script&gt;
&lt;!--[if IE]&gt;&lt;script type="text/javascript" src="/excanvas.js"&gt;&lt;/script&gt;&lt;![endif]--&gt;
&lt;script type="text/javascript"&gt;
    // Variables para contener los sucesivos puntos (x,y) por los que va
    // pasando el ratón, y su estado (pulsado/no pulsado)
    var movimientos = new Array();
    var pulsado;
    function crearLienzo() {
        //Aquí es donde vamos a insertar el código javascript para crear el lienzo
    }
    function repinta() {
        // función para dibujar en el lienzo los movimientos del ratón que hemos
        // recogido en la variable "movimientos"
    }
&lt;/script&gt;
&lt;/head&gt;
&lt;body style="background: #eee;" onload="crearLienzo();"&gt;
&lt;div id="lienzo" style="width: 200px; height: 200px; background: #fff;"&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-1">1</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-2">2</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-3">3</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-4">4</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-5">5</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-6">6</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-7">7</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-8">8</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-9">9</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-10">10</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-11">11</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-12">12</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-13">13</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-14">14</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-15">15</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-16">16</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-17">17</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-18">18</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-19">19</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-20">20</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-21">21</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-22">22</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-23">23</div><div class="crayon-num" data-line="crayon-5c96c7286c8ef423514836-24">24</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-1">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-2"><span class="crayon-o">&lt;</span><span class="crayon-e">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-3"><span class="crayon-o">&lt;</span><span class="crayon-e">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-4"><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"/js/jquery-1.7.2.min.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-5"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-sy">[</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-e">IE</span><span class="crayon-sy">]</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"/excanvas.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-sy">[</span><span class="crayon-st">endif</span><span class="crayon-sy">]</span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-6"><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Variables para contener los sucesivos puntos (x,y) por los que va</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// pasando el ratón, y su estado (pulsado/no pulsado)</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">movimientos</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-t">Array</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">pulsado</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">crearLienzo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Aquí es donde vamos a insertar el código javascript para crear el lienzo</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">repinta</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// función para dibujar en el lienzo los movimientos del ratón que hemos</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// recogido en la variable "movimientos"</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-18"><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-19"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-20"><span class="crayon-o">&lt;</span><span class="crayon-e">body </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-s">"background: #eee;"</span><span class="crayon-h"> </span><span class="crayon-v">onload</span><span class="crayon-o">=</span><span class="crayon-s">"crearLienzo();"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-21"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"lienzo"</span><span class="crayon-h"> </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-s">"width: 200px; height: 200px; background: #fff;"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-22"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-23"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ef423514836-24">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0028 seconds] -->
<p>Como se puede ver, también estamos cargando la librería &#8220;excanvas&#8221; para dar soporte a Internet Explorer. En el elemento &lt;body&gt; hemos añadido también la llamada onload=&#8221;crearLienzo();&#8221; para inicializar el área de dibujo.</p>
<h4>2. Código javascript de inicialización y manejo de eventos</h4>
<p>El código para crear el lienzo (en inglés &#8220;canvas&#8221;) es el siguiente:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c96c7286c8f8859369236" class="crayon-syntax crayon-theme-eclipse crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 24px; margin-bottom: 24px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">

        var canvasDiv = document.getElementById('lienzo');
        canvas = document.createElement('canvas');
        canvas.setAttribute('width', 200);
        canvas.setAttribute('height', 200);
        canvas.setAttribute('id', 'canvas');
        canvasDiv.appendChild(canvas);
        if(typeof G_vmlCanvasManager != 'undefined') {
            canvas = G_vmlCanvasManager.initElement(canvas);
        }
        context = canvas.getContext("2d");
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-1">1</div><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-2">2</div><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-3">3</div><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-4">4</div><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-5">5</div><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-6">6</div><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-7">7</div><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-8">8</div><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-9">9</div><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-10">10</div><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-11">11</div><div class="crayon-num" data-line="crayon-5c96c7286c8f8859369236-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-1">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">canvasDiv</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-e">getElementById</span><span class="crayon-sy">(</span><span class="crayon-s">'lienzo'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">canvas</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-e">createElement</span><span class="crayon-sy">(</span><span class="crayon-s">'canvas'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">canvas</span><span class="crayon-sy">.</span><span class="crayon-e">setAttribute</span><span class="crayon-sy">(</span><span class="crayon-s">'width'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">canvas</span><span class="crayon-sy">.</span><span class="crayon-e">setAttribute</span><span class="crayon-sy">(</span><span class="crayon-s">'height'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">canvas</span><span class="crayon-sy">.</span><span class="crayon-e">setAttribute</span><span class="crayon-sy">(</span><span class="crayon-s">'id'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'canvas'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">canvasDiv</span><span class="crayon-sy">.</span><span class="crayon-e">appendChild</span><span class="crayon-sy">(</span><span class="crayon-v">canvas</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">typeof </span><span class="crayon-v">G_vmlCanvasManager</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">'undefined'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">canvas</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">G_vmlCanvasManager</span><span class="crayon-sy">.</span><span class="crayon-e">initElement</span><span class="crayon-sy">(</span><span class="crayon-v">canvas</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">context</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">canvas</span><span class="crayon-sy">.</span><span class="crayon-e">getContext</span><span class="crayon-sy">(</span><span class="crayon-s">"2d"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8f8859369236-12">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>A continuación, también dentro de la rutina de inicialización, debemos añadir el código para procesar las acciones que realice el usuario con el ratón: pulsar el botón, mover el ratón y dejar de pulsar el botón. Esto lo hacemos asociando funciones javascript a los eventos mousedown, mousemove y mouseup respectivamente:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c96c7286c8fb238749716" class="crayon-syntax crayon-theme-eclipse crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 24px; margin-bottom: 24px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">

        $('#canvas').mousedown(function(e){
          pulsado = true;
          movimientos.push([e.pageX - this.offsetLeft,
              e.pageY - this.offsetTop,
              false]);
          repinta();
        });

        $('#canvas').mousemove(function(e){
          if(pulsado){
              movimientos.push([e.pageX - this.offsetLeft,
                  e.pageY - this.offsetTop,
                  true]);
            repinta();
          }
        });

        $('#canvas').mouseup(function(e){
          pulsado = false;
        });

        $('#canvas').mouseleave(function(e){
          pulsado = false;
        });
        repinta();
    }
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-1">1</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-2">2</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-3">3</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-4">4</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-5">5</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-6">6</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-7">7</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-8">8</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-9">9</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-10">10</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-11">11</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-12">12</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-13">13</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-14">14</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-15">15</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-16">16</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-17">17</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-18">18</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-19">19</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-20">20</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-21">21</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-22">22</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-23">23</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-24">24</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-25">25</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-26">26</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-27">27</div><div class="crayon-num" data-line="crayon-5c96c7286c8fb238749716-28">28</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-1">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#canvas'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">mousedown</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pulsado</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">movimientos</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">pageX</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">offsetLeft</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">pageY</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">offsetTop</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">false</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">repinta</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-9">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#canvas'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">mousemove</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">pulsado</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">movimientos</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">pageX</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">offsetLeft</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">pageY</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">offsetTop</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">true</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">repinta</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-18">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#canvas'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">mouseup</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pulsado</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-22">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#canvas'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">mouseleave</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pulsado</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">repinta</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5c96c7286c8fb238749716-28">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>Conforme el usuario mueve el ratón, se generan eventos &#8216;mousemove&#8217;, y en el array &#8216;movimientos&#8217; vamos guardando tripletes [x, y, estado], en donde (x,y) son las coordenadas en donde se encuentra el cursor, y estado es &#8220;true&#8221; si el botón del ratón está pulsado en ese momento.</p>
<h4>3. actualización del área de dibujo</h4>
<p>Por último, la función &#8216;repinta&#8217; es llamada cada vez que se añade una entrada al array &#8216;movimientos&#8217;, y se encarga de trasladar al lienzo los movimientos recogidos:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c96c7286c8fd291728107" class="crayon-syntax crayon-theme-eclipse crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 24px; margin-bottom: 24px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">

function repinta(){
  canvas.width = canvas.width; // Limpia el lienzo

  context.strokeStyle = "#0000a0";
  context.lineJoin = "round";
  context.lineWidth = 6;

  for(var i=0; i &lt; movimientos.length; i++)
  {     
    context.beginPath();
    if(movimientos[i][2] &amp;&amp; i){
      context.moveTo(movimientos[i-1][0], movimientos[i-1][1]);
     }else{
      context.moveTo(movimientos[i][0], movimientos[i][1]);
     }
     context.lineTo(movimientos[i][0], movimientos[i][1]);
     context.closePath();
     context.stroke();
  }
}
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-1">1</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-2">2</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-3">3</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-4">4</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-5">5</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-6">6</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-7">7</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-8">8</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-9">9</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-10">10</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-11">11</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-12">12</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-13">13</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-14">14</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-15">15</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-16">16</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-17">17</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-18">18</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-19">19</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-20">20</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-21">21</div><div class="crayon-num" data-line="crayon-5c96c7286c8fd291728107-22">22</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-1">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-2"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">repinta</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">canvas</span><span class="crayon-sy">.</span><span class="crayon-v">width</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">canvas</span><span class="crayon-sy">.</span><span class="crayon-v">width</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Limpia el lienzo</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-4">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-v">strokeStyle</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"#0000a0"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-v">lineJoin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"round"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-v">lineWidth</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-8">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">movimientos</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">beginPath</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">movimientos</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">moveTo</span><span class="crayon-sy">(</span><span class="crayon-v">movimientos</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">movimientos</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">moveTo</span><span class="crayon-sy">(</span><span class="crayon-v">movimientos</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">movimientos</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">lineTo</span><span class="crayon-sy">(</span><span class="crayon-v">movimientos</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">movimientos</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">closePath</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">stroke</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-21"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5c96c7286c8fd291728107-22">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>Y este es el resultado que obtenemos:</p>
<iframe src="/pinta.html" height="220" width="220"></iframe>
<h4>4. Envío de la imagen al servidor</h4>
<p>Mediante la función &#8216;toDataURL&#8217; podemos convertir el contenido del lienzo en una imagen codificada en base64 (por defecto, en formato png), y enviarlo al servidor como el valor de una variable de formulario (utilizando el método POST para no tener problemas con el tamaño de la imagen). Suponiendo que en el servidor existe un script llamado &#8216;upload-imagen.php&#8217; que va a recibir la imagen y depositarla en la url &#8216;/uploads/imagen.png&#8217;, la función javascript que realizará el envío podría ser:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c96c7286c8ff967934615" class="crayon-syntax crayon-theme-eclipse crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 24px; margin-bottom: 24px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">

function upload() {
    $.post('/upload-imagen.php',
        {
        img : canvas.toDataURL()
        },
        function(data) { 
        // Cuando ha finalizado el envío, presenta en pantalla la imagen que ha
        // quedado almacenada en el servidor
        $('#imagen').attr('src', '/uploads/imagen.png?timestamp=' + new Date().getTime());
        });
}
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-1">1</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-2">2</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-3">3</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-4">4</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-5">5</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-6">6</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-7">7</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-8">8</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-9">9</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-10">10</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-11">11</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-12">12</div><div class="crayon-num" data-line="crayon-5c96c7286c8ff967934615-13">13</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-1">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-2"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">upload</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-s">'/upload-imagen.php'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">img</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">canvas</span><span class="crayon-sy">.</span><span class="crayon-e">toDataURL</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Cuando ha finalizado el envío, presenta en pantalla la imagen que ha</span></div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// quedado almacenada en el servidor</span></div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#imagen'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">attr</span><span class="crayon-sy">(</span><span class="crayon-s">'src'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'/uploads/imagen.png?timestamp='</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getTime</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-12"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5c96c7286c8ff967934615-13">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>Sólo nos queda añadir en nuestro código HTML un botón para llamar a la función &#8216;upload&#8217;, y un elemento &lt;img&gt; para presentar la imagen una vez que ha sido enviada al servidor:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c96c7286c900394243113" class="crayon-syntax crayon-theme-eclipse crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 24px; margin-bottom: 24px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">

&lt;input name="guardar" type="button" value="guardar" onclick="upload();"&gt;
&lt;img style="width:60px; height:60px" id="imagen" src="/uploads/imagen.png" /&gt;
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c96c7286c900394243113-1">1</div><div class="crayon-num" data-line="crayon-5c96c7286c900394243113-2">2</div><div class="crayon-num" data-line="crayon-5c96c7286c900394243113-3">3</div><div class="crayon-num" data-line="crayon-5c96c7286c900394243113-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c96c7286c900394243113-1">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c900394243113-2"><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"guardar"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"button"</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"guardar"</span><span class="crayon-h"> </span><span class="crayon-v">onclick</span><span class="crayon-o">=</span><span class="crayon-s">"upload();"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c900394243113-3"><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-s">"width:60px; height:60px"</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"imagen"</span><span class="crayon-h"> </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"/uploads/imagen.png"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c900394243113-4">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>Nota: La carga de la imagen recién enviada al servidor se hace añadiendo un argumento &#8216;timestamp&#8217;, cuyo valor cambia cada vez que se realiza la carga. Esto no es absolutamente necesario, pero evita problemas en caso de que el navegador o algún servidor proxy guarde la imagen en cache, ya que con el argumento &#8216;timestamp&#8217; obligamos a que se solicite siempre la imagen al servidor. El script &#8216;upload-imagen.php&#8217; que recibe la imagen y la guarda en el servidor es como sigue:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c96c7286c902460556602" class="crayon-syntax crayon-theme-eclipse crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 24px; margin-bottom: 24px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">

&lt;?php

if (array_key_exists('img',$_REQUEST)) {
    echo $_REQUEST['img'];

    // convierte la imagen recibida en base64
    // Eliminamos los 22 primeros caracteres, que 
    // contienen el substring "data:image/png;base64,"
    $imgData = base64_decode(substr($_REQUEST['img'],22));

    // Path en donde se va a guardar la imagen
    $file = '/uploads/imagen.png';

    // borrar primero la imagen si existía previamente
    if (file_exists($file)) { unlink($file); }

        // guarda en el fichero la imagen contenida en $imgData
        $fp = fopen($file, 'w');
        fwrite($fp, $imgData);
        fclose($fp);
}
?&gt;
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-1">1</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-2">2</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-3">3</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-4">4</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-5">5</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-6">6</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-7">7</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-8">8</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-9">9</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-10">10</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-11">11</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-12">12</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-13">13</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-14">14</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-15">15</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-16">16</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-17">17</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-18">18</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-19">19</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-20">20</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-21">21</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-22">22</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-23">23</div><div class="crayon-num" data-line="crayon-5c96c7286c902460556602-24">24</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c96c7286c902460556602-1">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c902460556602-2"><span class="crayon-ta">&lt;?php</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-3">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c902460556602-4"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">array_key_exists</span><span class="crayon-sy">(</span><span class="crayon-s">'img'</span><span class="crayon-sy">,</span><span class="crayon-v">$_REQUEST</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">echo</span><span class="crayon-h"> </span><span class="crayon-v">$_REQUEST</span><span class="crayon-sy">[</span><span class="crayon-s">'img'</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-6">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c902460556602-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// convierte la imagen recibida en base64</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Eliminamos los 22 primeros caracteres, que </span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// contienen el substring "data:image/png;base64,"</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$imgData</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">base64_decode</span><span class="crayon-sy">(</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-v">$_REQUEST</span><span class="crayon-sy">[</span><span class="crayon-s">'img'</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-cn">22</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-11">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c902460556602-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Path en donde se va a guardar la imagen</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$file</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'/uploads/imagen.png'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-14">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c902460556602-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// borrar primero la imagen si existía previamente</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">file_exists</span><span class="crayon-sy">(</span><span class="crayon-v">$file</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-e">unlink</span><span class="crayon-sy">(</span><span class="crayon-v">$file</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-17">&nbsp;</div><div class="crayon-line" id="crayon-5c96c7286c902460556602-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// guarda en el fichero la imagen contenida en $imgData</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$fp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">fopen</span><span class="crayon-sy">(</span><span class="crayon-v">$file</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'w'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">fwrite</span><span class="crayon-sy">(</span><span class="crayon-v">$fp</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">$imgData</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">fclose</span><span class="crayon-sy">(</span><span class="crayon-v">$fp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-22"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-23"><span class="crayon-ta">?&gt;</span></div><div class="crayon-line" id="crayon-5c96c7286c902460556602-24">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p></p>
<h4>5. Dibujar en un canvas HTML5 en dispositivos móviles</h4>
<p>En dispositivos móviles, el usuario no utiliza un ratón. En su lugar, interacciona con la aplicación a través de una pantalla táctil. El procedimiento para dibujar sobre el canvas en un dispositivo móvil es muy similar al explicado en este artículo, pero en lugar de capturar y procesar los eventos de ratón generados en un ordenador de sobremesa o portátil, hay que utilizar los eventos específicos de una pantalla táctil. El lector interesado puede consultar en este mismo blog el artículo sobre <a title="Cómo pintar con el dedo en una página web para móviles" href="http://blog.openalfa.com/como-pintar-con-el-dedo-en-una-pagina-web-para-moviles/" target="_blank" rel="noopener">cómo dibujar con el dedo en un canvas HTML5 en un dispositivo móvil</a>.</p>
<p>&nbsp;</p>
<p>&#8212;-</p>
			</div><!--/entry -->
<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fblog.openalfa.com%2Fcomo-dibujar-con-el-raton-en-un-canvas-html5&amp;width=500&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;share=true&amp;height=30"
     scrolling="no"
     frameborder="0"
     style="border:none; overflow:hidden; width:500px; height:30px;"
     allowTransparency="true">
</iframe>
		</div><!-- .entry-container -->
<footer class="post-footer postdata fix">
<span class="author"><span class="icon">&nbsp;</span>Publicado por <span class="vcard"><a href="https://blog.openalfa.com/author/admin" class="url fn" rel="author">admin</a></span> en 8:55 am</span></footer><!-- .post-footer -->
<section id="comments">
<h3 class="comments"><span class="icon">&nbsp;</span>
	4 Respuestas a &#8220;Cómo dibujar con el ratón en un canvas HTML5&#8221;</h3>
<ol class="commentlist">
	<li id="comment-931" class="pingback even thread-even depth-1 plain-nested">
				<div id="div-comment-931" class="comment-body">
			<div class="comment-author fix vcard">
							<div class="comment-author-link">
					<cite class="fn"><a href='http://blog.openalfa.com/como-escribir-con-el-raton-y-reconocer-simbolos-hanzi/' rel='external nofollow' class='url'>Cómo escribir con el ratón y reconocer símbolos hanzi &raquo; Blog OpenAlfa</a></cite> <span class="says">dice::</span>				</div>
				<div class="comment-meta commentmetadata"><a href="https://blog.openalfa.com/como-dibujar-con-el-raton-en-un-canvas-html5#comment-931">
				9 julio, 2012 en 4:05 pm</a>				</div>

			</div>
	
			<p>[&#8230;] un artículo anterior hemos visto cómo dibujar gráficos con el ratón sobre un &#8220;lienzo&#8221; (canvas) HTML5. También hemos presentado la manera de instalar el [&#8230;]</p>

			</div>

			<div class="reply">
						</div>



		
	</li><!-- #comment-## -->
	<li id="comment-1163" class="comment odd alt thread-odd thread-alt depth-1 plain-nested">
				<div id="div-comment-1163" class="comment-body">
			<div class="comment-author fix vcard">
			<img alt='' src='https://secure.gravatar.com/avatar/42147079f22085c47c6731214a84bdac?s=48&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/42147079f22085c47c6731214a84bdac?s=96&#038;d=mm&#038;r=g 2x' class='avatar avatar-48 photo' height='48' width='48' />				<div class="comment-author-link">
					<cite class="fn">Jose</cite> <span class="says">dice::</span>				</div>
				<div class="comment-meta commentmetadata"><a href="https://blog.openalfa.com/como-dibujar-con-el-raton-en-un-canvas-html5#comment-1163">
				22 octubre, 2013 en 7:46 pm</a>				</div>

			</div>
	
			<p>Podrías dejar un ejemplo?</p>

			</div>

			<div class="reply">
			<a rel='nofollow' class='comment-reply-link' href='https://blog.openalfa.com/como-dibujar-con-el-raton-en-un-canvas-html5?replytocom=1163#respond' onclick='return addComment.moveForm( "comment-1163", "1163", "respond", "671" )' aria-label='Responder a Jose'>Responder</a>			</div>



		
	<ul class="children">
	<li id="comment-1164" class="comment byuser comment-author-admin bypostauthor even depth-2 plain-nested">
				<div id="div-comment-1164" class="comment-body">
			<div class="comment-author fix vcard">
			<img alt='' src='https://secure.gravatar.com/avatar/d8f25b94789e241752bbb357de98a745?s=48&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/d8f25b94789e241752bbb357de98a745?s=96&#038;d=mm&#038;r=g 2x' class='avatar avatar-48 photo' height='48' width='48' />				<div class="comment-author-link">
					<cite class="fn">admin</cite> <span class="says">dice::</span>				</div>
				<div class="comment-meta commentmetadata"><a href="https://blog.openalfa.com/como-dibujar-con-el-raton-en-un-canvas-html5#comment-1164">
				23 octubre, 2013 en 2:24 pm</a>				</div>

			</div>
	
			<p>Hola Jose,</p>
<p>El ejemplo está al final del apartado 3 del artículo. En él se incluye un iframe que contiene el lienzo sobre el que puedes pintar con el ratón.</p>

			</div>

			<div class="reply">
			<a rel='nofollow' class='comment-reply-link' href='https://blog.openalfa.com/como-dibujar-con-el-raton-en-un-canvas-html5?replytocom=1164#respond' onclick='return addComment.moveForm( "comment-1164", "1164", "respond", "671" )' aria-label='Responder a admin'>Responder</a>			</div>



		
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li id="comment-6080" class="comment odd alt thread-even depth-1 plain-nested">
				<div id="div-comment-6080" class="comment-body">
			<div class="comment-author fix vcard">
			<img alt='' src='https://secure.gravatar.com/avatar/88e61cfd5cb702ddb536011feec191a3?s=48&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/88e61cfd5cb702ddb536011feec191a3?s=96&#038;d=mm&#038;r=g 2x' class='avatar avatar-48 photo' height='48' width='48' />				<div class="comment-author-link">
					<cite class="fn">Miguel Martinez</cite> <span class="says">dice::</span>				</div>
				<div class="comment-meta commentmetadata"><a href="https://blog.openalfa.com/como-dibujar-con-el-raton-en-un-canvas-html5#comment-6080">
				21 noviembre, 2017 en 9:16 am</a>				</div>

			</div>
	
			<p>Gracias por el aporte, me sirvió de mucho el contenido se este tema.</p>
<p>saludos.</p>

			</div>

			<div class="reply">
			<a rel='nofollow' class='comment-reply-link' href='https://blog.openalfa.com/como-dibujar-con-el-raton-en-un-canvas-html5?replytocom=6080#respond' onclick='return addComment.moveForm( "comment-6080", "6080", "respond", "671" )' aria-label='Responder a Miguel Martinez'>Responder</a>			</div>



		
	</li><!-- #comment-## -->
</ol>
<div class="navigation fix">
	<div class="alignleft"></div>
	<div class="alignright"></div>
</div>
	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"><span class="icon">&nbsp;</span>Deja un comentario <small><a rel="nofollow" id="cancel-comment-reply-link" href="/como-dibujar-con-el-raton-en-un-canvas-html5#respond" style="display:none;">Cancelar respuesta</a></small></h3>			<form action="https://blog.openalfa.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<span></span>
					<p>
						<label for='comment' class='textarea suf-comment-label'>Tu comentario</label>
						<textarea name='comment' id='comment' cols='60' rows='10' tabindex='4' class='textarea'></textarea>
					</p>
					<p>
						<label for='author' class='suf-comment-label'>Nombre</label>
						<input type='text' name='author' id='author' class='textarea' value='' size='28' tabindex='1' /> (requerido)
					</p>

					<p>
						<label for='email' class='suf-comment-label'>E-mail</label>
						<input type='text' name='email' id='email' value='' size='28' tabindex='2' class='textarea' /> (requerido)
					</p>

<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Enviar comentario" /> <input type='hidden' name='comment_post_ID' value='671' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p>			</form>
			</div><!-- #respond -->
	</section>   <!-- #comments -->
	</article><!--/post -->
<div class="adsenseresponsive" style="height: 80px; width: 100%; background: #f0f0f0;">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- responsive -->
    <ins class="adsbygoogle" style="display:block"
       data-ad-client="ca-pub-5299341991936851"
       data-ad-slot="2285923671"
       data-ad-format="auto"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>
<nav class='post-nav fix'>
<table>
<tr>
	<td class='previous'><a href="https://blog.openalfa.com/como-generar-graficos-interactivos-con-javascript" rel="prev"><span class="icon">&nbsp;</span> Cómo generar gráficos interactivos con javascript</a></td>
	<td class='next'><a href="https://blog.openalfa.com/propagacion-de-eventos-javascript" rel="next"><span class="icon">&nbsp;</span> Propagación de eventos javascript</a></td>
</tr>
</table>
</nav>
      </div><!-- content -->
    </div><!-- main col -->
<div id='sidebar-shell-1' class='sidebar-shell sidebar-shell-right'>
<div class="dbx-group right boxed warea" id="sidebar">
<!--widget start --><aside id="search-2" class="dbx-box suf-widget search"><div class="dbx-content">
<form method="get" class="searchform " action="https://blog.openalfa.com/">
	<input type="text" name="s" class="searchfield"
			value="Buscar"
			onfocus="if (this.value == 'Buscar') {this.value = '';}"
			onblur="if (this.value == '') {this.value = 'Buscar';}"
			/>
	<input type="submit" class="searchsubmit" value="" name="searchsubmit" />
</form>
</div></aside><!--widget end --><!--widget start --><aside id="categories-2" class="dbx-box suf-widget widget_categories"><div class="dbx-content"><h3 class="dbx-handle plain">Temas</h3>		<ul>
	<li class="cat-item cat-item-2"><a href="https://blog.openalfa.com/category/admon-servidores" >Admon. Servidores</a>
</li>
	<li class="cat-item cat-item-3"><a href="https://blog.openalfa.com/category/analytics" >Analytics</a>
</li>
	<li class="cat-item cat-item-4"><a href="https://blog.openalfa.com/category/android" >Android</a>
</li>
	<li class="cat-item cat-item-5"><a href="https://blog.openalfa.com/category/apache" >Apache</a>
</li>
	<li class="cat-item cat-item-31"><a href="https://blog.openalfa.com/category/c" >C</a>
</li>
	<li class="cat-item cat-item-28"><a href="https://blog.openalfa.com/category/comercio-electronico" >Comercio electrónico</a>
</li>
	<li class="cat-item cat-item-6"><a href="https://blog.openalfa.com/category/domotica" >Domótica</a>
</li>
	<li class="cat-item cat-item-7"><a href="https://blog.openalfa.com/category/general" >General</a>
</li>
	<li class="cat-item cat-item-8"><a href="https://blog.openalfa.com/category/hosting" >Hosting</a>
</li>
	<li class="cat-item cat-item-9"><a href="https://blog.openalfa.com/category/html" >HTML</a>
</li>
	<li class="cat-item cat-item-10"><a href="https://blog.openalfa.com/category/informacion-geografica" >Información Geográfica</a>
</li>
	<li class="cat-item cat-item-11"><a href="https://blog.openalfa.com/category/java" >Java</a>
</li>
	<li class="cat-item cat-item-12"><a href="https://blog.openalfa.com/category/javascript" >Javascript</a>
</li>
	<li class="cat-item cat-item-14"><a href="https://blog.openalfa.com/category/mediawiki" >MediaWiki</a>
</li>
	<li class="cat-item cat-item-15"><a href="https://blog.openalfa.com/category/miscelanea" >Miscelánea</a>
</li>
	<li class="cat-item cat-item-16"><a href="https://blog.openalfa.com/category/mysql" >MySQL</a>
</li>
	<li class="cat-item cat-item-17"><a href="https://blog.openalfa.com/category/perl" >Perl</a>
</li>
	<li class="cat-item cat-item-18"><a href="https://blog.openalfa.com/category/php" >PHP</a>
</li>
	<li class="cat-item cat-item-19"><a href="https://blog.openalfa.com/category/postfix" >Postfix</a>
</li>
	<li class="cat-item cat-item-20"><a href="https://blog.openalfa.com/category/sem-adwords" >SEM &#8211; AdWords</a>
</li>
	<li class="cat-item cat-item-21"><a href="https://blog.openalfa.com/category/seo" >SEO</a>
</li>
	<li class="cat-item cat-item-29"><a href="https://blog.openalfa.com/category/shell-script" >Shell script</a>
</li>
	<li class="cat-item cat-item-22"><a href="https://blog.openalfa.com/category/twitter" >Twitter</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://blog.openalfa.com/category/uncategorized" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-23"><a href="https://blog.openalfa.com/category/wordpress" >WordPress</a>
</li>
	<li class="cat-item cat-item-24"><a href="https://blog.openalfa.com/category/xml" >XML</a>
</li>
		</ul>
</div></aside><!--widget end -->
<div class="cuadrado" style="width: 300px; height: 250px;">
<!-- cuadrado -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-5299341991936851"
     data-ad-slot="0995776763"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>


</div><!--/sidebar -->
</div>
	</div><!-- /container -->

<footer>
	<div id="cred">
		<table>
			<tr>
				<td class="cred-left">&#169; 2013 <a href='http://blog.openalfa.com'>Blog OpenAlfa</a></td>
				<td class="cred-center"></td>
				<td class="cred-right"><a href="http://www.openalfa.com">Tema OpenAlfa basado en suffusion</a></td>
			</tr>
		</table>
	</div>
</footer>
<!-- 59 queries, 8MB in 0,090 seconds. -->
</div><!--/wrapper -->
<!-- location footer -->
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/blog.openalfa.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Presiona %s para copiar y %s para pegar","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='//blog.openalfa.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript' src='//blog.openalfa.com/wp-includes/js/comment-reply.min.js?ver=5.0.3'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var tocplus = {"visibility_show":"mostrar","visibility_hide":"ocultar","width":"Auto"};
/* ]]> */
</script>
<script type='text/javascript' src='//blog.openalfa.com/wp-content/plugins/table-of-contents-plus/front.min.js?ver=1509'></script>
<script type='text/javascript' src='//blog.openalfa.com/wp-includes/js/wp-embed.min.js?ver=5.0.3'></script>

</body>
</html>
